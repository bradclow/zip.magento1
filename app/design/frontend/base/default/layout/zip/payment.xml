<?xml version="1.0"?>
<layout version="0.1.0">

    <!-- 
        Zip Payment Pages 
    -->

    <!-- Landing page -->
    <zip_payment_index_index>

        <label>Zip Payment - Landing Page</label>

        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>

        <reference name="head">
            <action method="setTitle">
                <title>Zip Payment - Landing Page</title>
            </action>

            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
            <block type="page/html" name="zip.payment.landing" template="zip/payment/index/landing.phtml"/>
        </reference>
    </zip_payment_index_index>
    <!-- End Landing page -->

    <!-- Failure page -->
    <zip_payment_checkout_failure>

        <label>Zip Payment - Checkout - Failure Page</label>

        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>

        <reference name="head">
            <action method="setTitle">
                <title>Zip Payment - Checkout - Failure Page</title>
            </action>
        </reference>

        <reference name="content">
            <block type="zip_payment/checkout_failure" name="zip.payment.checkout.failure" template="zip/payment/checkout/page.phtml"/>
        </reference>

    </zip_payment_checkout_failure>
    <!-- End Failure page -->

    <!-- Referred page -->
    <zip_payment_checkout_referred>

        <label>Zip Payment - Checkout - Referred Page</label>

        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>

        <reference name="head">
            <action method="setTitle">
                <title>Zip Payment - Checkout - Referred Page</title>
            </action>
        </reference>

        <reference name="content">
            <block type="zip_payment/checkout_referred" name="zip.payment.checkout.referred" template="zip/payment/checkout/page.phtml"/>
        </reference>

    </zip_payment_checkout_referred>
    <!-- End Referred page -->

    <!-- 
        Zip Payment Widgets 
    -->

    <!-- Home page -->
    <cms_index_index>

        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>   

        <reference name="top.menu">
            <block type="zip_payment/widget" name="zip.payment.widget.banner" template="zip/payment/widgets/banner.phtml" />
        </reference>

    </cms_index_index>
    <!-- End Home page -->

    <!-- Product page -->
    <catalog_product_view>

        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>

        <reference name="top.menu">
            <block type="zip_payment/widget" name="zip.payment.widget.banner" template="zip/payment/widgets/banner.phtml" />
        </reference>
  
        <reference name="product.info.extrahint">
            <block type="zip_payment/widget" name="zip.payment.widget.tagline" template="zip/payment/widgets/tagline.phtml" />
        </reference>
        
        <reference name="product.info.addtocart">
            <block type="zip_payment/widget" name="zip.payment.widget.popup" template="zip/payment/widgets/popup.phtml" />
        </reference>
  
    </catalog_product_view>
    <!-- End Product page -->

    <!-- Category page -->
    <catalog_category_default>

        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>

        <reference name="top.menu">
            <block type="zip_payment/widget" name="zip.payment.widget.banner" template="zip/payment/widgets/banner.phtml" />
        </reference>

    </catalog_category_default>

    <catalog_category_layered>
    
        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>

        <reference name="top.menu">
            <block type="zip_payment/widget" name="zip.payment.widget.banner" template="zip/payment/widgets/banner.phtml" />
        </reference>

    </catalog_category_layered>
    <!-- End Category page -->

    <!-- Cart page -->
    <checkout_cart_index>	

        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>   
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>

        <reference name="top.menu">
            <block type="zip_payment/widget" name="zip_payment.widget.banner" template="zip/payment/widgets/banner.phtml" />
        </reference>
  
        <reference name="checkout.cart.methods">
            <block type="zip_payment/widget" name="zip_payment.widget.tagline" template="zip/payment/widgets/tagline.phtml" />
            <block type="zip_payment/widget" name="zip_payment.widget.widget" template="zip/payment/widgets/popup.phtml" after="-" />
        </reference>

    </checkout_cart_index>
    <!-- End Cart page -->

    <!-- 
        checkout pages 
    -->

    <!-- Layout handler for Onestep Checkout -->
    <checkout_layout_hander>
        <reference name="head">
            <block type="zip_payment/widget" name="zip.payment.widget.head" template="zip/payment/widgets/head.phtml"/>
        </reference>

        <reference name="content">
            <block type="zip_payment/widget" name="zip.payment.widget.root" template="zip/payment/widgets/root.phtml"/>
        </reference>

        <reference name="before_body_end">
            <block type="zip_payment/checkout" name="zip.payment.checkout.js" template="zip/payment/checkout/js.phtml"/>
        </reference>
    </checkout_layout_hander>
    <!-- End Layout handler for Onestep Checkout -->


</layout> 