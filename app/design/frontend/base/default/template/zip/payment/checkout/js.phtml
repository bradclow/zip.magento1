<?php if($this->isActive()) : ?>
    <script type="text/javascript" src="<?php echo $this->escapeUrl($this->getCheckoutJsLibUrl()); ?>"></script>
    <script type="text/javascript">
    //<![CDATA[

    Zip = Zip || {};
    Zip.Checkout = Zip.Checkout || {};

    Zip.Checkout.settings = {
        methodCode: '<?php echo $this->escapeHtml($this->getMethodCode()); ?>',
        isRedirect: <?php echo $this->isRedirect() ? 'true' : 'false'; ?>,
        checkoutUrl: '<?php echo $this->escapeUrl($this->getCheckoutUrl()); ?>',
        responseUrl: '<?php echo $this->escapeUrl($this->getResponseUrl()); ?>',
        logLevel: '<?php echo $this->escapeHtml($this->getLogLevel()); ?>'
    };

    //]]>

    </script>

    <?php foreach ($this->getCheckoutScriptList() as $scriptUrl) : ?>
        <script type="text/javascript" src="<?php echo $this->escapeUrl($scriptUrl); ?>"></script>
    <?php endforeach; ?>

    <style type="text/css">
    #zip_payment--checkout_overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#fff;z-index:9999;text-align:center}#zip_payment--checkout_overlay .container{width:100%!important;padding:10% 20px 10% 20px}#zip_payment--checkout_overlay .container>div{margin-bottom:40px}#zip_payment--checkout_overlay.active{display:block!important}#zip_payment--checkout_overlay img{display:inline-block}#zip_payment--checkout_overlay .zip-spinner{width:70px;height:70px;margin:24px auto;position:relative;display:flex}#zip_payment--checkout_overlay .spin{width:70px;height:70px;position:absolute}#zip_payment--checkout_overlay .spin:before{content:'';height:28px;width:28px;border-radius:50%;position:absolute}#zip_payment--checkout_overlay #spin1:before{background-color:#1b1e63}#zip_payment--checkout_overlay #spin2:before{background-color:#00aeb8}#zip_payment--checkout_overlay #spin3:before{background-color:#f8991c}#zip_payment--checkout_overlay #spin4:before{background-color:#f15c3e}#zip_payment--checkout_overlay #spin1{transform:rotate(360deg);animation:zip-spinner-animation 1s linear infinite}#zip_payment--checkout_overlay #spin2{transform:rotate(270deg);animation:zip-spinner-animation 1s linear infinite;animation-delay:-.25s}#zip_payment--checkout_overlay #spin3{transform:rotate(180deg);animation:zip-spinner-animation 1s linear infinite;animation-delay:-.5s}#zip_payment--checkout_overlay #spin4{transform:rotate(90deg);animation:zip-spinner-animation 1s linear infinite;animation-delay:-.75s}@keyframes zip-spinner-animation{0%{transform:rotate(360deg)}25%{transform:rotate(270deg)}50%{transform:rotate(180deg)}75%{transform:rotate(90deg)}100%{transform:rotate(0)}}
    </style>

<?php endif; ?>
