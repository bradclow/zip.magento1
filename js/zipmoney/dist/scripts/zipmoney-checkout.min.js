var zipCheckout=Class.create();zipCheckout.prototype={_extensions:[],options:{methodCode:"zipmoneypayment"},initialize:function(){},redirectToZip:function(){Zip.Checkout.init({redirect:this.options.redirect,checkoutUri:this.options.checkoutUri,completeUri:this.options.completeUri})},onError:function(e){console.log(e)},getCurrentExtension:function(){var e=this,t=null;return this._extensions.each(function(i){i.name.toLowerCase()==e.options.checkoutExtension.toLowerCase()&&(t=new i["class"])}),t},setup:function(e){var t=this;try{this.options=Object.extend(this.options,e);var i=t.getCurrentExtension();i.setup(this)}catch(o){console.log(o)}},register:function(e,t){this._extensions.push({"class":e,name:t})}},window.$zipCheckout=new zipCheckout;var Aitoc_Aitcheckout=Class.create();Aitoc_Aitcheckout.prototype={"super":null,_btn:null,initialize:function(e){this["super"]=e,this._btn=$("aitcheckout-place-order")},setup:function(e){this["super"]=e;var t=this;payment.currentMethod==this["super"].options.methodCode&&this._btn&&(this._btn.setAttribute("onclick",""),this._btn.observe("click",function(){t["super"].redirectToZip()}))}},void 0!=window.$zipCheckout&&window.$zipCheckout.register(Aitoc_Aitcheckout,"Aitoc_Aitcheckout");var Zip_Idev_OnestepCheckout=Class.create();Zip_Idev_OnestepCheckout.prototype={"super":null,_btn:null,_zipBtn:null,_zipBtnId:"zipmoneypayment-place-order",initialize:function(e){this._btn=$("onestepcheckout-place-order")},setup:function(e){var t=this;this["super"]=e,this.setupZipButton(),this.switchButtons(),this.methodChange(),Ajax.Responders.register({onComplete:function(e,i){"undefined"==typeof e.parameters.doNotMakeAjaxCallback&&t.switchButtons()}})},setupZipButton:function(){var e=this._btn.clone(!0);e.setAttribute("id",this._zipBtnId),this._btn.insert({before:e});var t=this;e.observe("click",function(e){t.checkout(t,e)}),this._zipBtn=e},checkout:function(e,t){var i=new VarienForm("onestepcheckout-form");if(already_placing_order=!1,review=!1,reviewmodal=!1,i.validator.validate()){if(!already_placing_order&&$$(".loading-ajax").length<=0){already_placing_order=!0;var o=e._zipBtn,n=new Element("div").addClassName("onestepcheckout-place-order-loading").update('<img src="'+e["super"].options.loaderImageUrl+'" />&nbsp;&nbsp;Please wait, processing your order...');o.parentNode.appendChild(n),o.removeClassName("orange").addClassName("grey"),o.disabled=!0,e["super"].redirectToZip()}}else Event.stop(t)},switchButtons:function(e){var t="",i=this._btn,o=this._zipBtn,n=[o,i];$$("onestepcheckout-place-order-loading").length&&$$("onestepcheckout-place-order-loading").remove(),i.removeClassName("grey").addClassName("orange"),i.disabled=!1,e||(t=payment.currentMethod==this["super"].options.methodCode?o:i),n.each(function(e){e&&(e==t?e.show():e.hide())})},methodChange:function(){var e=$$('#checkout-payment-method-load input[name="payment[method]"]'),t=this;e.each(function(e){e.observe("click",function(){t.switchButtons()})})}},void 0!=window.$zipCheckout&&window.$zipCheckout.register(Zip_Idev_OnestepCheckout,"Idev_OnestepCheckout");var Zip_IWD_OnestepCheckout=Class.create();Zip_IWD_OnestepCheckout.prototype={"super":null,initialize:function(e){},setup:function(e){var t=this;this["super"]=e,IWD.OPC.Plugin.event("saveOrder",function(){return IWD.OPC.Checkout.saveOrderUrl=null,t["super"].redirectToZip(),!0})}},void 0!=window.$zipCheckout&&window.$zipCheckout.register(Zip_IWD_OnestepCheckout,"Iwd_OnestepCheckout");var Zip_Mage_Checkout=Class.create();Zip_Mage_Checkout.prototype={"super":null,_btn:null,initialize:function(e){this["super"]=e,this._btn=$("place-order")},setup:function(e){this["super"]=e;var t=this;payment.currentMethod==this["super"].options.methodCode&&this._btn&&(this._btn.setAttribute("onclick",""),this._btn.observe("click",function(){t["super"].redirectToZip()}))}},void 0!=window.$zipCheckout&&window.$zipCheckout.register(Zip_Mage_Checkout,"Mage_Checkout");