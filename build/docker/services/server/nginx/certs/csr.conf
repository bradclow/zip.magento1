# OpenSSL configuration to generate a new key with signing requst for a x509v3 
# multidomain certificate
#
# openssl req -config bla.cnf -new | tee csr.pem
# or
# openssl req -config bla.cnf -new -out csr.pem
[ req ]
default_bits       = 4096
default_md         = sha512
default_keyfile    = key.pem
prompt             = no
encrypt_key        = no

# base request
distinguished_name = zipco

# extensions
x509_extensions     = v3_req

# distinguished_name
[ zipco ]
countryName            = AU                     # C=
stateOrProvinceName    = New South Wales        # ST=
localityName           = Sydney                 # L=
postalCode             = 2000                   # L/postalcode=
streetAddress          = 14/10 Spring St        # L/street=
organizationName       = Zip                    # O=
organizationalUnitName = Plugin Team            # OU=
commonName             = zip.co                 # CN=
emailAddress           = support@zip.co         # CN/emailAddress=

# req_extensions
[ v3_req ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

subjectAltName = @alt_names

[alt_names]
DNS.1 = *.local
DNS.2 = *.dev
